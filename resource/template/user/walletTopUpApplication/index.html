<!--
=================================================================================
 This is auto-generated by Freekey Admin at 2022-12-26 19:35:13. For more information see https://github.com/1211ciel/ciel-admin
=================================================================================
-->

<!DOCTYPE html>
<html lang="zh">
<head>
    {{include "/part/meta.html" .}}
    <title>{{.node.Name}} - {{.Config.server.name}} </title>
</head>
<body>
{{include "/part/top.html" .}}
<div id="wrapper">
    <div class="w">
        <div id="wrapper-left">
            {{include "/part/nav.html" .}}
            <div class="box-02 no-bottom-border">
                {{include "/part/page_base_info.html" .}}
                <form class="cell flex-center no-bottom-border p-3" action="/admin/walletTopUpApplication" method="get">
                    <div class="mr-auto"></div>
                    {{input "trans_id" "交易ID" .Query}}
                    {{input "uname" "用户名" .Query}}
                    {{input "description" "备注" .Query}}
                    {{input "ip" "IP" .Query}}
                    {{options "change_type" "充值类型" .topUpOptions .Query}}
                    {{options "status" "状态" "1:等待处理:tag-primary,2:成功:tag-success,3:失败:tag-danger" .Query}}
                    {{searchPageSize .Query}}
                    <a class="tag-warning" href="#" id="export">导出</a>
                </form>
            </div>
            <div class="box-02 no-bottom-border">
                {{.msg}}
                <table class="table-1">
                    <tr>{{th "ID,交易ID,用户名,金额,充值类型,充值IP,备注,状态,管理员ID,创建时间,更新时间,OPERATION"}}</tr>
                    {{range .list}}
                    <tr>
                        {{td "id" .id}}
                        {{td "交易ID" .trans_id}}
                        {{td "用户名" .uname}}
                        {{td "金额" .money}}
                        <td data-label="金额"><span class="{{.class}}">{{.changeType}}</span></td>
                        {{td "ip" .ip}}
                        {{td "备注" .description}}
                        {{tdChoose "状态" "1:等待处理:tag-primary,2:成功:tag-success,3:失败:tag-danger" .status}}
                        {{td "aid" .aid}}
                        {{td "created_at" .created_at}}
                        {{td "updated_at" .updated_at}}
                        <td align="center">
                            {{if eq .status 1}}
                            <a class="tag-success" href="/admin/walletTopUpApplication/review?operationType=1&orderId={{.id}}&{{toUrlParams .Query}}">通过</a>
                            <a class="tag-danger" href="/admin/walletTopUpApplication/review?operationType=2&orderId={{.id}}&{{toUrlParams .Query}}">拒绝</a>
                            {{end}}
                            {{a "tag-warning" (concat "/admin/walletTopUpApplication/edit/" .id) "修改" $.Query}}
                            {{aDel (concat "/admin/walletTopUpApplication/del/" .id) $.Query}}
                        </td>
                    </tr>
                    {{end}}
                </table>
                {{include "/part/pagination.html" .}}
            </div>
        </div>
    </div>
</div>
{{include "/part/footer.html" .}}
{{include "/part/endJs.html" .}}
<script>
    $("#export").on("click", function () {
        $(".table-1").table2excel({
            filename: `充值订单-${new Date().toLocaleDateString()}.xls`
        })
    })
</script>
</body>
</html>